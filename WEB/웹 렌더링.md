# 웹 렌더링
웹 렌더링이란 사용자가 웹페이지를 요청했을 때, 브라우저에 화면을 표시하는 과정이다.

그렇다면 실제로 어떤 과정을 거쳐 화면에 표시하는지 알아보자.

## 웹 렌더링 과정
**1. 요청 및 응답**
   * 사용자가 URL 입력 -&amp;gt 브라우저가 서버에 HTML, CSS, JS 요청
   * 서버에서 응답하고 브라우저가 리소스를 다운로드

**2. HTML 파싱 -&amp;gt DOM 트리 생성**
   * HTML을 해석하여 DOM(Document Object Model) 트리 생성
   * 태그가 계층 구조로 변환
  
**3. CSS 파싱 -&amp;gt CSSOM 트리 생성**
   * CSS 파일을 해석하여 CSSOM(CSS Object Model) 트리 생성
   * 각 요소의 스타일을 결정
  
**4. Render Tree 생성**
   * DOM + CSSOM 결합 -&amp;gt 화면에 표시될 요소만 포함
   * `display: none` 요소는 제외

**5. 레이아웃 계산**
   * 각 요소의 위치와 크기를 계산 (뷰포트 기준)
   * 화면 크기나 글씨 크기에 따라 동적 조정 가능

**6. 페인팅(Painting)**
   * 계산된 요소들을 픽셀 단위로 변환
   * 브라우저가 화면에 표시할 색상, 그림자 등 처리

**7. 합성(Compositing) &amp; 렌더링**
   * GPU 가속을 활용해 빠르게 레이어(Layer) 단위로 합성
   * 최종 화면을 그려서 사용자에게 보여줌

## 웹 렌더링 방식

위의 렌더링 과정은 웹사이트의 목적과 사용자의 요구에 따라 렌더링 방식이 나뉜다.
***
### CSR(Client-Side Rendering)
CSR(Clitent-Side Rendering)은 웹 페이지의 렌더링을 클라이언트 측 즉, 사용자의 브라우저에서 처리하는 방식이다.

1. 사용자가 웹 페이지를 요청하면, 서버는 빈 HTML 파일과 JavaScript 파일을 클라이언트에 보낸다.

2. 브라우저는 받은 JavaScript 파일을 실행하여 동적으로 HTML을 생성하고, 브라우저에 표시한다.

3. 페이지를 전환 시에는 새로 고침 없이 필요한 부분만 JavaScript로 갱신한다.

#### 장점
* **빠른 페이지 전환** : 새로 고침 없이 동적으로 페이지를 갱신하여 부드럽고 빠른 전환을 제공한다.

* **서버 부담 감소** : 매번 새로 렌더링을 하지 않고, 필요한 부분만 동적으로 업데이트하기에 서버에 부담이 덜하다.

#### 단점
* **첫 페이지 로딩 속도** : 초기 로딩 시 JavaScript를 로드하고 실행하는 과정 속 속도가 느릴 수 있다.

* **SEO 어려움** : 브라우저가 JavaScript를 실행하기 전에 빈 HTML이 먼저 표시되므로, 검색 엔진이 이를 크롤링하기 어려워 SEO 최적화에 불리할 수 있습니다.

***
### SSR(Sever-Side Rendering)
SSR(Sever-Side Rendering)은 웹 페이지를 서버에서 렌더링하고, 렌더링 된 HTML을 클라이언트에 전달하는 방식이다.

1. 사용자가 웹 페이지를 요청하면, 서버는 클라이언트에 필요한 HTML 파일을 전송한다.

2. 클라이언트는 서버에서 받은 HTML 파일을 즉시 표시한다.

3. 추가 페이지 요청이 있으면, 해당 페이지에 대한 HTML을 다시 서버에서 클라이언트로 전송한다.

#### 장점
* **빠른 초기 페이지 로딩** : 서버에서 이미 렌더링 된 HTML을 클라이언트에 전송하므로, 첫 페이지 로딩이 빠르다.

* **SEO 최적화** : 서버에서 완성된 HTML 파일을 보내므로, 검색 엔진이 쉽게 크롤링할 수 있어 SEO에 유리하다.

#### 단점
* **서버 부하 증가** : 서버가 매 요청마다 HTML을 렌더링해야 하므로, 서버의 부하가 증가할 수 있다.
***
### SSG(Static Site Generation)
SSG(Static-Site Generation)는 웹 페이지를 빌드 시간에 모든 요청에 대한 정적인 HTML 파일을 클라이언트에 제공하는 방식이다.

1. 사이트의 모든 페이지가 빌드 시 미리 HTML 파일로 렌더링한다.

2. 사용작가 웹 페이지를 요청하면, 서버는 미리 만든 HTML 파일을 클라이언트에 전송한다.

3. 추가 페이지 요청 시, 이미 생성한 해당 페이지의 HTML 파일을 보낸다.

4. 콘텐츠가 변경되면, 사이트를 다시 빌드하고 새로운 HTML 파일을 생성하여 배포한다.

#### 장점
* **빠른 로딩 속도** : 모든 페이지가 정적 HTML로 제공되기에 클라이언트는 서버에서 HTML 파일을 즉시 받아 빠르게 렌더링할 수 있다.

* **서버 부하 감소** : 서버는 HTML 파일을 전달하기만 하면 되므로 서버의 부하가 적다.

* **SEO 최적화** : 미리 렌더링 된 HTML 파일이 제공되므로 페이지를 쉽게 크롤링 할 수 있다.

#### 단점
* **실시간 데이터 처리 어려움** : 페이지가 미리 생성되므로, 데이터가 변경될 때마다 다시 빌드해야 한다.

***
### ISR(Incremental Static Regeneration)
ISR(Incremental Static Regeneration)은 SSG의 발전된 형태로 정적 사이트의 성능과 동적 업데이트의 유연성을 결합한 방식이다.

이 방식은 페이지가 최초로 생성된 후에도 동적으로 변경된 콘텐츠를 특정 주기마다 업데이트할 수 있도록 한다.

1. 사이트의 모든 페이지가 빌드 시 정적으로 HTML 파일을 생성한다.

2. 클라이언트는 서버로부터 이미 생성된 정적 HTML 파일을 받고, 이를 브라우저에 즉시 표시한다.

3. 추가 페이지에 대한 요청이 있을 때, 페이지가 정적으로 생성된 상태에서 일정 시간 경과 후 재생성된다. (재생성 중에는 이전 페이지로 보인다.)

#### 장점
* **빠른 초기 페이지 로딩** : 이미 정적으로 생성된 HTML을 사용하므로 로딩이 빠르다.

* **동적 콘텐츠 지원** : 일정 시간 간격으로 새로운 요청이 들어오면 페이지를 재생성하므로, 실시간 데이터나 변경 사항을 반영할 수 있다.

* **서버 부하 감소** : 실시간이 아닌 일정 시간 간격으로 페이지를 재생성하므로, 서버 부하를 최소화한다.

* **SEO 최적화** : 미리 정적 HTML 파일이 제공되므로 페이지를 쉽게 크롤링 할 수 있다.

#### 단점
* **즉각적인 업데이트 X** : 재생성 주기가 있으므로, 완전히 실시간 업데이트되지는 않는다.